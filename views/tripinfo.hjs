<!DOCTYPE html>
<html>
  <head>
    <title>Trip Info</title>
    <link rel="stylesheet" href="/styles/bootstrap.min.css" />
    <link rel="stylesheet" href="/styles/style.css" />
    <script src="/js/jquery-2.2.0.min.js" type="text/javascript"></script>
    <script src="/js/bootstrap.min.js" type="text/javascript"></script>
  </head>
  <body>
    <div>
      <div>
        <nav class="navbar navbar-inverse" style="padding-left:130px;">
          <ul class="nav navbar-nav">
            <li><a href="/dashboard">Home</a></li>
            <li class="active"><a href="/tripinfo">Trip Info</a></li>
          </ul>
        </nav>  
      </div>
      <br />
    </div>

    <div class="container">
      <h2>Enter Trip Information</h2>
      <form id="tripForm" action="/createTrip" method="POST">
        <div class="form-group">
          <label for="origin">Origin:</label>
          <input type="text" class="form-control" id="origin" name="origin" required>
        </div>
        <div class="form-group">
          <label for="destination">Destination:</label>
          <input type="text" class="form-control" id="destination" name="destination" required>
        </div>
        <div class="form-group">
          <label for="tripdate">Trip Date:</label>
          <input type="text" class="form-control" id="tripdate" name="tripdate" required>
        </div>
        <button type="submit" class="btn btn-primary">Buy a Ticket</button>
      </form>
    </div>

    <script>
      $(document).ready(function() {
        $('#tripForm').submit(function(e) {
          e.preventDefault();
          const form = $(this);
          const url = form.attr('action');
          const formData = form.serialize();

          // Show the subscription popup
          const hasSubscription = confirm("Do you have a subscription?");
          if (hasSubscription) {
            window.location.href = '/subscription';
          } else {
            window.location.href = '/payment';
          }
        });
      });
    </script>
  </body>
</html>
